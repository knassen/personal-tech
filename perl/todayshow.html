<!DOCTYPE HTML> 
<html lang="en">
<head>
  <base href="/personal-tech/perl/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="perl program code today highlighted">
  <title>today.pl code listing</title>
</head>
<body> 
    <blockquote>
        <h2>Perl Code for today.pl</h2>
<hr style="height: 2px; width: 100%; margin-left:0px; margin-right:auto;">
        <div class="commentary">
        As noted on the main today.pl page, this program is not so necessary
        any longer due to Gnu and BSD cal programs have this facility now.
        I'm leaving this here as an historical example of what I had to do
        to make it work when the cal program I had wouldn't do the hightlighting.</div>
<hr style="height: 2px; width: 100%; margin-left:0px; margin-right:auto;">
<pre>

#!/usr/um/bin/perl
#
# today - print a calendar with today in reverse video (vt100 hardcoded)
# (Handy for a login script)
#
#                               April 1999                               
#                             S  M Tu  W Th  F  S                        
#                                         1  2  3                        
#                             4  5  >6<  7  8  9 10                        
#                            11 12 13 14 15 16 17                        
#                            18 19 20 21 22 23 24                        
#                            25 26 27 28 29 30                           
#                                                                        
#                          Current time is:  7:02 PM

use vars qw( $min $hour $mday $mon $year $current_line $len );

($min,$hour,$mday,$mon,$year) = (localtime)[1,2,3,4,5];
$mon++;
$year+=1900;

open ( CALENDAR, "/usr/bin/cal $mon $year |" );

print "\n";
until (eof(CALENDAR)) {
    chop($current_line = &lt;CALENDAR&gt;);
    $len = 22;
    $current_line =~ s/\b$mday\b/\033[7m$mday\033[m/;
    printf (sprintf("                            %%-20s  %%-%ds\n", $len), $current_line );
}
printf("\n                          Current time is: %2d:%02d %s\n\n",
        ($hour>12 ? $hour-12 : $hour),$min,($hour>=12 ? "PM" : "AM"));

</pre>
<hr style="height: 2px; width: 100%; margin-left:0px; margin-right:auto;">

<a href="todayperl.html"><img src="/personal-tech/gif/arrwback.gif" alt="">  Back to today.pl Perl Page</a><br>

<span style="font-size: 80%;">Last Modified: Sun Sep  7 10:36:38 EDT 2025
</span>

</blockquote>
</body>
</html>

